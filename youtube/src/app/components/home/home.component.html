<section class="home-content my-3">
    <div class="container">
        <h2>My Youtube Channel</h2>
        <hr/>
        <div class="card-columns" *ngIf="videos.length > 0">
            <div class="card" *ngFor="let video of videos">
                <img class="card-img-top img-fluid"
                    [src]="video.thumbnails.high.url"
                    [alt]="video.title" />
                <div class="card-block">
                    <h5 class="card-title">
                        {{(video.title.length > 50) ? (video.title | slice:0:46) + '...' : video.title}}
                    </h5>
                    <button class="btn btn-outline-primary btn-block"
                        type="button"
                        (click)="watchVideo(video)">
                        See video
                    </button>
                </div>
            </div>
        </div>
        <div class="text-center mt-3">
            <button class="btn btn-outline-success"
                type="button"
                (click)="loadMore()">
                Load more videos
            </button>
        </div>
    </div>
</section>

<div class="modal fade"
    id="myModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
    data-backdrop="static"
    data-keyboard="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content" *ngIf="videoSelected">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">
                    {{videoSelected.title}}
                </h5>
            </div>
            <div class="modal-body">
                <iframe [src]="videoSelected.resourceId.videoId | secureYoutube"
                    width="100%"
                    height="300"
                    frameborder="0"
                    allowfullscreen>
                </iframe>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" type="button" (click)="closeModal()">
                    Close
                </button>
            </div>
        </div>
    </div>
</div>
